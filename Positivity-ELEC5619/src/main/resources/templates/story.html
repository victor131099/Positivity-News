<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/css/base.css" th:href="@{/css/base.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css">
    <title th:text="${story.title}"></title>
    <link rel="icon" th:href="@{/images/icons/newspaper.svg}" type="image/x-icon">
</head>

<body class="bg-lg">
<div class="container-fluid h-100 p-0 m-0 bg-lg">
    <div class="row h-100 m-0 p-0 w-100">
        <div th:include="homepage :: sidebar" class="m-0 p-0 h-100 col-2 bg-dk"></div>
        <div class="m-0 h-100 ps-5 col-7 scrollbar">
            <div class="row m-0 pt-3 pb-2">
                <div class="card px-5 py-3 bg-wh shadow-sm">
                    <div class="mb-3" style="font-size: 35px; font-weight: 600;" th:text="${story.getTitle()}"></div>
                    <div class="row mb-3">
                        <div class="col-10">
                            <div style="font-size: 20px;">
                                <p class="text-muted" style="font-size: 20px; font-weight: 400"><i class="bi bi-calendar-week"></i> <span th:text="${#dates.dayOfWeekNameShort(story.getPublishedDate()) + ' ' + #dates.format(story.getPublishedDate(), 'MMM dd yyyy')}"></span></p>
                                <p class="text-muted" style="font-size: 20px; font-weight: 400"><i class="bi bi-easel2"></i> Presented by <a th:href="${story.getLink()}" th:text="${story.getSource()}"></a><span th:text="', by ' + ${story.getAuthors()}"></span></p>
                            </div>
                        </div>
                        <div class="col-2 my-auto">
                            <form class="position-relative" id="likeForm">
                                <input id="id" type="hidden" th:value="${story.getId()}"/>
                                <button th:if="!${liked}" id="likeButton" type="submit" class="position-absolute top-0 end-0 btn btn-ac shadow-sm">Like (<span th:text="${story.getLikes()}"/>)</button>
                                <button th:if="${liked}" id="likeButton" type="submit" class="position-absolute top-0 end-0 btn btn-ac shadow-sm">Unlike (<span th:text="${story.getLikes()}"/>)</button>
                            </form>
                        </div>
                    </div>
                    <img class="mb-3" th:src="${story.getMedia()}">
                    <div style="font-size: 22px;" th:text="${story.getSummary()}"></div>
                </div>
            </div>
        </div>
<!--        <div th:include="homepage :: searchform" class="col-3 px-5 pt-3"></div>-->
    </div>
</div>

<script th:src="@{/js/story.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
</body>
</html>